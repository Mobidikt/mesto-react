{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","utils/Api.js","components/AddPlacePopup.js","components/App.js","index.js","images/header/logo.svg"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","type","length","Main","props","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","key","onCardClick","Footer","ImagePopup","onClose","isOpen","PopupWithForm","title","noValidate","onSubmit","children","button_text","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","maxLength","minLength","id","value","onChange","target","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","reset","ref","api","serverUrl","authorization","this","_serverUrl","_authorization","url","params","fetch","then","res","ok","json","Promise","reject","status","_fetch","method","headers","info","body","JSON","stringify","cardId","AddPlacePopup","setLink","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isverificationPopupOpen","setverificationPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","handleEsc","closeAllPopups","overlayClose","classList","contains","setEventListeners","document","addEventListener","removeEventListener","getUserInfo","userInfo","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","setUserInfo","finally","setUserAvatar","createCard","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.94f602b0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport headerLogo from \"../images/header/logo.svg\";\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogo} alt=\"Место Россия\" />\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardDeleteButtonClassName = `card__btn-delete ${\r\n    isOwn ? \"\" : \"card__btn-delete_invis\"\r\n  }`;\r\n  const cardLikeButtonClassName = `card__btn-like ${\r\n    isLiked ? \"card__btn-like_active\" : \"\"\r\n  }`;\r\n  function handleClick() {\r\n    onClick(card);\r\n  }\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n  function handleDelete() {\r\n    onCardDelete(card);\r\n  }\r\n  return (\r\n    <li className=\"card\">\r\n      <img\r\n        className=\"card__image\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDelete}\r\n      />\r\n      <div className=\"card__text\">\r\n        <p className=\"card__title\">{card.name}</p>\r\n        <div className=\"card__like\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className=\"card__number-likes\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <main className=\"content\">\r\n        <section className=\"profile\">\r\n          <button\r\n            className=\"profile__btn profile__btn_avatar\"\r\n            onClick={props.onEditAvatar}\r\n          >\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар пользователя\"\r\n            />\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__btn profile__btn_edit\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n            <p className=\"profile__job\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__btn profile__btn_add\"\r\n            onClick={props.onAddPlace}\r\n          ></button>\r\n        </section>\r\n        <section className=\"place\">\r\n          <ul className=\"place__list\">\r\n            {props.cards.map((card) => (\r\n              <Card\r\n                card={card}\r\n                key={card._id}\r\n                onClick={props.onCardClick}\r\n                onCardLike={props.onCardLike}\r\n                onCardDelete={props.onCardDelete}\r\n              />\r\n            ))}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\nexport default Main;\r\n","import React from \"react\";\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  const isOpen = card && \"popup_opened\";\r\n  function handleClickClose() {\r\n    onClose();\r\n  }\r\n  return (\r\n    <div className={`popup popup_type_photo ${isOpen}`}>\r\n      <div className=\"popup__container_photo\">\r\n        <img\r\n          className=\"popup__picture\"\r\n          src={card ? card.link : \"#\"}\r\n          alt={card ? card.name : \"\"}\r\n        />\r\n        <h3 className=\"popup__caption\">{card ? card.name : \"\"}</h3>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          onClick={handleClickClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpen ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className={`popup__container popup__container_${props.name}`}>\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        <form\r\n          className=\"popup__form\"\r\n          name={props.name}\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__button\">\r\n            {props.button_text}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          onClick={props.onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const handleDescriptionChange = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      button_text=\"Сохранить\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          className=\"popup__input popup__input_name\"\r\n          maxLength=\"40\"\r\n          minLength=\"2\"\r\n          id=\"name\"\r\n          value={name || \"\"}\r\n          onChange={handleNameChange}\r\n          required\r\n        />\r\n        <span className=\"popup__error\" id=\"name-error\" />\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"job\"\r\n          type=\"text\"\r\n          placeholder=\"О себе\"\r\n          className=\"popup__input popup__input_job\"\r\n          maxLength=\"200\"\r\n          minLength=\"2\"\r\n          id=\"job\"\r\n          value={description || \"\"}\r\n          onChange={handleDescriptionChange}\r\n          required\r\n        />\r\n\r\n        <span className=\"popup__error\" id=\"job-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar(avatarRef.current.value);\r\n    e.target.reset();\r\n  };\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      button_text=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на новый аватар\"\r\n          className=\"popup__input\"\r\n          id=\"avatar\"\r\n          required\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__error\" id=\"avatar-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","class Api {\r\n  constructor({ serverUrl, authorization }) {\r\n    this._serverUrl = serverUrl;\r\n    this._authorization = authorization;\r\n  }\r\n\r\n  _fetch(url, params) {\r\n    return fetch(this._serverUrl + url, params).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n  getUserInfo() {\r\n    return this._fetch(\"/users/me\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n  //редактирование информации профиля\r\n  setUserInfo(info) {\r\n    return this._fetch(\"/users/me\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: info.name,\r\n        about: info.about,\r\n      }),\r\n    });\r\n  }\r\n  //редактирование информации профиля\r\n  setUserAvatar(info) {\r\n    return this._fetch(\"/users/me/avatar\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: info,\r\n      }),\r\n    });\r\n  }\r\n  //добавление карточки\r\n  getInitialCards() {\r\n    return this._fetch(\"/cards\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n  createCard(info) {\r\n    return this._fetch(\"/cards\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: info.name,\r\n        link: info.link,\r\n      }),\r\n    });\r\n  }\r\n  //удаление карточки\r\n  deleteCard(cardId) {\r\n    return this._fetch(`/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  }\r\n  //  Реализация лайка\r\n  createLike(cardId) {\r\n    return this._fetch(`/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  }\r\n  deleteLike(cardId) {\r\n    return this._fetch(`/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  }\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return this._fetch(`/cards/likes/${cardId}`, {\r\n      method: isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  }\r\n}\r\nconst api = new Api({\r\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-14\",\r\n  authorization: \"7a3dfd49-072e-4055-86f4-4cec12a9c522\",\r\n});\r\nexport default api;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const handleLinkChange = (e) => {\r\n    setLink(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      button_text=\"Создать\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          className=\"popup__input popup__input_mesto\"\r\n          maxLength=\"30\"\r\n          minLength=\"1\"\r\n          id=\"mesto\"\r\n          required\r\n          value={name}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__error\" id=\"mesto-error\" />\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"src\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"popup__input popup__input_src\"\r\n          id=\"src\"\r\n          required\r\n          value={link}\r\n          onChange={handleLinkChange}\r\n        />\r\n        <span className=\"popup__error\" id=\"src-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport api from \"../utils/Api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isverificationPopupOpen, setverificationPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState(\"\");\r\n  const [cards, setCards] = useState([]);\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Данные о пользователе не получены. ${err}`);\r\n      });\r\n  }, []);\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    });\r\n  }\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Удаление карточки не выполнено. ${err}`);\r\n      });\r\n  }\r\n  function handleAddPlaceSubmit(card) {\r\n    api\r\n      .createCard(card)\r\n      .then((res) => {\r\n        const newCard = res;\r\n        setCards([...cards, newCard]);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка добавления карточки. ${err}`);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((card) => {\r\n        setCards(card);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Данные карточек не получены. ${err}`);\r\n      });\r\n  }, []);\r\n\r\n  function handleUpdateUser(info) {\r\n    api\r\n      .setUserInfo(info)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка обновления данных пользователя. ${err}`);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n  function handleUpdateAvatar(avatar) {\r\n    api\r\n      .setUserAvatar(avatar)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка обновления аватара. ${err}`);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  function handleEsc(e) {\r\n    if (e.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  function overlayClose(e) {\r\n    if (e.target.classList.contains(\"popup\")) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  function setEventListeners() {\r\n    document.addEventListener(\"keydown\", handleEsc);\r\n    document.addEventListener(\"click\", overlayClose);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n    setEventListeners();\r\n  }\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n    setEventListeners();\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n    setEventListeners();\r\n  }\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setEventListeners();\r\n  }\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setverificationPopupOpen(false);\r\n    setSelectedCard(null);\r\n    document.removeEventListener(\"keydown\", handleEsc);\r\n    document.removeEventListener(\"click\", overlayClose);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n        />\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <PopupWithForm\r\n          name=\"verification\"\r\n          title=\"Вы уверены?\"\r\n          button_text=\"Да\"\r\n          isOpen={isverificationPopupOpen}\r\n          onClose={closeAllPopups}\r\n        ></PopupWithForm>\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./pages/index.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.0fce8a33.svg\";"],"sourceRoot":""}