{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","utils/Api.js","components/AddPlacePopup.js","components/VerificationPopup.js","components/App.js","index.js","images/header/logo.svg"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","type","length","Main","props","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","key","onCardClick","Footer","ImagePopup","onClose","open","isOpen","PopupWithForm","title","noValidate","onSubmit","children","button_text","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","target","reset","placeholder","maxLength","minLength","id","value","onChange","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","api","serverUrl","authorization","this","_serverUrl","_authorization","url","params","fetch","then","res","ok","json","Promise","reject","status","_fetch","method","headers","info","body","JSON","stringify","cardId","AddPlacePopup","setLink","VerificationPopup","onDeleteCard","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isVerificationPopupOpen","setVerificationPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","handleEsc","closeAllPopups","overlayClose","classList","contains","setEventListeners","document","addEventListener","removeEventListener","getUserInfo","userInfo","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","c","setUserInfo","finally","setUserAvatar","createCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1505b443.chunk.js","sourcesContent":["import React from \"react\";\r\nimport headerLogo from \"../images/header/logo.svg\";\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogo} alt=\"Место Россия\" />\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardDeleteButtonClassName = `card__btn-delete ${\r\n    isOwn ? \"\" : \"card__btn-delete_invis\"\r\n  }`;\r\n  const cardLikeButtonClassName = `card__btn-like ${\r\n    isLiked ? \"card__btn-like_active\" : \"\"\r\n  }`;\r\n  function handleClick() {\r\n    onClick(card);\r\n  }\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n  function handleDelete() {\r\n    onCardDelete(card);\r\n  }\r\n  return (\r\n    <li className=\"card\">\r\n      <img\r\n        className=\"card__image\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDelete}\r\n      />\r\n      <div className=\"card__text\">\r\n        <p className=\"card__title\">{card.name}</p>\r\n        <div className=\"card__like\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className=\"card__number-likes\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <main className=\"content\">\r\n        <section className=\"profile\">\r\n          <button\r\n            className=\"profile__btn profile__btn_avatar\"\r\n            onClick={props.onEditAvatar}\r\n          >\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар пользователя\"\r\n            />\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__btn profile__btn_edit\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n            <p className=\"profile__job\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__btn profile__btn_add\"\r\n            onClick={props.onAddPlace}\r\n          ></button>\r\n        </section>\r\n        <section className=\"place\">\r\n          <ul className=\"place__list\">\r\n            {props.cards.map((card) => (\r\n              <Card\r\n                card={card}\r\n                key={card._id}\r\n                onClick={props.onCardClick}\r\n                onCardLike={props.onCardLike}\r\n                onCardDelete={props.onCardDelete}\r\n              />\r\n            ))}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\nexport default Main;\r\n","import React from \"react\";\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose, isOpen }) {\r\n  const open = isOpen && \"popup_opened\";\r\n  function handleClickClose() {\r\n    onClose();\r\n  }\r\n  return (\r\n    <div className={`popup popup_type_photo ${open}`}>\r\n      <div className=\"popup__container_photo\">\r\n        <img\r\n          className=\"popup__picture\"\r\n          src={card ? card.link : \"#\"}\r\n          alt={card ? card.name : \"\"}\r\n        />\r\n        <h3 className=\"popup__caption\">{card ? card.name : \"\"}</h3>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          onClick={handleClickClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpen ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className={`popup__container popup__container_${props.name}`}>\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        <form\r\n          className=\"popup__form\"\r\n          name={props.name}\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__button\">\r\n            {props.button_text}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          onClick={props.onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const handleDescriptionChange = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n    e.target.reset();\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      button_text=\"Сохранить\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          className=\"popup__input popup__input_name\"\r\n          maxLength=\"40\"\r\n          minLength=\"2\"\r\n          id=\"name\"\r\n          value={name || \"\"}\r\n          onChange={handleNameChange}\r\n          required\r\n        />\r\n        <span className=\"popup__error\" id=\"name-error\" />\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"job\"\r\n          type=\"text\"\r\n          placeholder=\"О себе\"\r\n          className=\"popup__input popup__input_job\"\r\n          maxLength=\"200\"\r\n          minLength=\"2\"\r\n          id=\"job\"\r\n          value={description || \"\"}\r\n          onChange={handleDescriptionChange}\r\n          required\r\n        />\r\n\r\n        <span className=\"popup__error\" id=\"job-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar(avatarRef.current.value);\r\n    e.target.reset();\r\n  };\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      button_text=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на новый аватар\"\r\n          className=\"popup__input\"\r\n          id=\"avatar\"\r\n          required\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__error\" id=\"avatar-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","class Api {\r\n  constructor({ serverUrl, authorization }) {\r\n    this._serverUrl = serverUrl;\r\n    this._authorization = authorization;\r\n  }\r\n\r\n  _fetch(url, params) {\r\n    return fetch(this._serverUrl + url, params).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n  getUserInfo() {\r\n    return this._fetch(\"/users/me\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n  //редактирование информации профиля\r\n  setUserInfo(info) {\r\n    return this._fetch(\"/users/me\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: info.name,\r\n        about: info.about,\r\n      }),\r\n    });\r\n  }\r\n  //редактирование информации профиля\r\n  setUserAvatar(info) {\r\n    return this._fetch(\"/users/me/avatar\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: info,\r\n      }),\r\n    });\r\n  }\r\n  //добавление карточки\r\n  getInitialCards() {\r\n    return this._fetch(\"/cards\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n  createCard(info) {\r\n    return this._fetch(\"/cards\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: info.name,\r\n        link: info.link,\r\n      }),\r\n    });\r\n  }\r\n  //удаление карточки\r\n  deleteCard(cardId) {\r\n    return this._fetch(`/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  }\r\n  //  Реализация лайка\r\n  createLike(cardId) {\r\n    return this._fetch(`/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  }\r\n  deleteLike(cardId) {\r\n    return this._fetch(`/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  }\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return this._fetch(`/cards/likes/${cardId}`, {\r\n      method: isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  }\r\n}\r\nconst api = new Api({\r\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-14\",\r\n  authorization: \"7a3dfd49-072e-4055-86f4-4cec12a9c522\",\r\n});\r\nexport default api;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const handleLinkChange = (e) => {\r\n    setLink(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      button_text=\"Создать\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          className=\"popup__input popup__input_mesto\"\r\n          maxLength=\"30\"\r\n          minLength=\"1\"\r\n          id=\"mesto\"\r\n          required\r\n          value={name}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__error\" id=\"mesto-error\" />\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          name=\"src\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"popup__input popup__input_src\"\r\n          id=\"src\"\r\n          required\r\n          value={link}\r\n          onChange={handleLinkChange}\r\n        />\r\n        <span className=\"popup__error\" id=\"src-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction VerificationPopup({ card, isOpen, onClose, onDeleteCard }) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onDeleteCard(card);\r\n  };\r\n  return (\r\n    <PopupWithForm\r\n      name=\"verification\"\r\n      title=\"Вы уверены?\"\r\n      button_text=\"ДА\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\nexport default VerificationPopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport api from \"../utils/Api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport VerificationPopup from \"./VerificationPopup\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isVerificationPopupOpen, setVerificationPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState(\"\");\r\n  const [cards, setCards] = useState([]);\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Данные о пользователе не получены. ${err}`);\r\n      });\r\n  }, []);\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка инициализации лайка. ${err}`);\r\n      });\r\n  }\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Удаление карточки не выполнено. ${err}`);\r\n      });\r\n  }\r\n  function handleAddPlaceSubmit(card) {\r\n    api\r\n      .createCard(card)\r\n      .then((res) => {\r\n        const newCard = res;\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка добавления карточки. ${err}`);\r\n      })\r\n      .finally(() => {});\r\n  }\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((card) => {\r\n        setCards(card);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Данные карточек не получены. ${err}`);\r\n      });\r\n  }, []);\r\n\r\n  function handleUpdateUser(info) {\r\n    api\r\n      .setUserInfo(info)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка обновления данных пользователя. ${err}`);\r\n      })\r\n      .finally(() => {});\r\n  }\r\n  function handleUpdateAvatar(avatar) {\r\n    api\r\n      .setUserAvatar(avatar)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка обновления аватара. ${err}`);\r\n      })\r\n      .finally(() => {});\r\n  }\r\n\r\n  function handleEsc(e) {\r\n    if (e.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  function overlayClose(e) {\r\n    if (e.target.classList.contains(\"popup\")) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  function setEventListeners() {\r\n    document.addEventListener(\"keydown\", handleEsc);\r\n    document.addEventListener(\"click\", overlayClose);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n    setEventListeners();\r\n  }\r\n  function handleDeleteCardClick(card) {\r\n    setVerificationPopupOpen(true);\r\n    setSelectedCard(card);\r\n    setEventListeners();\r\n  }\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n    setEventListeners();\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n    setEventListeners();\r\n  }\r\n  function handleCardClick(card) {\r\n    setImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n    setEventListeners();\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setVerificationPopupOpen(false);\r\n    setImagePopupOpen(false);\r\n    setSelectedCard(null);\r\n    document.removeEventListener(\"keydown\", handleEsc);\r\n    document.removeEventListener(\"click\", overlayClose);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleDeleteCardClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n        />\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <ImagePopup\r\n          isOpen={isImagePopupOpen}\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <VerificationPopup\r\n          isOpen={isVerificationPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onDeleteCard={handleCardDelete}\r\n          card={selectedCard}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./pages/index.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.0fce8a33.svg\";"],"sourceRoot":""}